import{d as e,o as t,c as o,a as l,t as a,b as s,n as i,w as n,v as r,r as d,e as u,u as c,i as v,f as p,g as m,h as f,F as y,j as g,k as b,l as h,m as C,p as k,q as L}from"./vendor.dfabd2aa.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var q=e({name:"Headers",setup:()=>({})});const N={class:"header"},S=[l("h2",null,"todos",-1)];q.render=function(e,l,a,s,i,n){return t(),o("div",N,S)};const w={class:"footer"},A={class:"todo-count"},K={class:"filters"};var V=e({props:{remaining:{type:Number,required:!0,default:0},visibility:{type:String,required:!0,default:"all"},todoList:{type:Array,required:!0}},emits:["filters","clearCompleted"],setup(e,{emit:d}){const u=()=>{d("clearCompleted")},c=e=>{d("filters",e)};return(d,v)=>(t(),o("footer",w,[l("div",A,[l("strong",null,a(e.remaining),1),s(" "+a(1===e.remaining?"item":"items")+" left ",1)]),l("ul",K,[l("li",null,[l("a",{onClick:v[0]||(v[0]=()=>c("all")),class:i({selected:"all"==e.visibility})},"All",2)]),l("li",null,[l("a",{onClick:v[1]||(v[1]=()=>c("active")),class:i({selected:"active"==e.visibility})},"Active",2)]),l("li",null,[l("a",{onClick:v[2]||(v[2]=()=>c("completed")),class:i({selected:"completed"==e.visibility})},"Completed",2)])]),n(l("button",{class:"clear-completed",onClick:u}," Clear completed ",512),[[r,e.todoList.length>e.remaining]])]))}});const j=["onKeyup"];var D=e({emits:["create"],setup(e,{emit:l}){let a=d("");const s=()=>{a.value&&(l("create",a.value),a.value="")};return(e,l)=>n((t(),o("input",{class:"new-todo",autofocus:"",autocomplete:"off",placeholder:"What needs to be done?","onUpdate:modelValue":l[0]||(l[0]=e=>v(a)?a.value=e:a=e),onKeyup:p(s,["enter"])},null,40,j)),[[u,c(a)]])}});const I={class:"view"};var J=e({props:{todo:{type:null,required:!0}},emits:["remove"],setup(e,{emit:s}){let r,v=d({});const y=e=>{(null==v?void 0:v.value)&&(v.value=null,e.value=e.value.trim(),e.value||g(e))},g=e=>{s("remove",e)};return(s,d)=>{var b,h;const C=m("todo-focus");return t(),o("li",{class:i(["todo",{completed:e.todo.completed,editing:(null==(b=e.todo)?void 0:b.id)==(null==(h=c(v))?void 0:h.id)}])},[l("div",I,[n(l("input",{class:"toggle",type:"checkbox","onUpdate:modelValue":d[0]||(d[0]=t=>e.todo.completed=t)},null,512),[[f,e.todo.completed]]),l("label",{onDblclick:d[1]||(d[1]=t=>{return o=e.todo,r=o.value,void(v.value=o);var o})},a(e.todo.value),33),l("button",{class:"destroy",onClick:d[2]||(d[2]=t=>g(e.todo))})]),n(l("input",{class:"edit",type:"text","onUpdate:modelValue":d[3]||(d[3]=t=>e.todo.value=t),onBlur:d[4]||(d[4]=t=>y(e.todo)),onKeyup:[d[5]||(d[5]=p((t=>y(e.todo)),["enter"])),d[6]||(d[6]=p((t=>{return o=e.todo,v.value=null,void(o.value=r);var o}),["esc"]))]},null,544),[[u,e.todo.value],[C,e.todo==c(v)]])],2)}}});const O={class:"todo-list"};var U=e({props:{todoList:{type:Array,required:!0}},emits:["remove"],setup(e,{emit:l}){const a=e=>{l("remove",e)};return(l,s)=>(t(),o("ul",O,[(t(!0),o(y,null,g(e.todoList,(e=>(t(),b(c(J),{key:e.id,todo:e,onRemove:a},null,8,["todo"])))),128))]))}});const W={class:"todoapp"},x={class:"main"},F=l("footer",{class:"info"},[l("p",null,"Double-click to edit a todo"),l("p",null,"tods developed by sfc and ts"),l("p",null,[s("Written by "),l("a",{href:"http://konnga.cn"},"WangJiaCheng")]),l("p",null,[s("Part of "),l("a",{href:"http://todomvc.com"},"TodoMVC")])],-1);var M=e({setup(e){const a="todos-vuejs-3.0",s={fetch:()=>JSON.parse(localStorage.getItem(a)||"[]"),save(e){localStorage.setItem(a,JSON.stringify(e))}};let i=d(s.fetch());const u=d("all"),v={all:e=>e,active:e=>e.filter((e=>!e.completed)),completed:e=>e.filter((e=>e.completed))},p=h((()=>v.active(i.value).length)),m=h((()=>v[u.value](i.value)));C((()=>i.value),((e,t)=>{s.save(e)}),{deep:!0});const f=e=>{e&&i.value.push({id:(new Date).getTime(),value:e,completed:!1})},g=e=>{i.value=i.value.filter((t=>t.id!==e.id))},b=e=>{v[e]?u.value=e:u.value="all"},L=()=>{i.value=v.active(i.value)};return(e,a)=>{var s;return t(),o(y,null,[l("div",W,[k(c(q)),k(c(D),{onCreate:f}),n(l("div",x,[k(c(U),{todoList:c(m),onRemove:g},null,8,["todoList"]),k(c(V),{todoList:c(i),remaining:c(p),visibility:u.value,onFilters:b,onClearCompleted:L},null,8,["todoList","remaining","visibility"])],512),[[r,null==(s=c(i))?void 0:s.length]])]),F],64)}}});const P=L(e({setup:e=>(e,o)=>(t(),b(c(M)))}));P.directive("todo-focus",{updated(e,t){t.value&&e.focus()}}),P.mount("#app");
